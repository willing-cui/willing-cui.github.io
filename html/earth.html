<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Willing's Gallery</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overflow-y: hidden;
        }
    </style>
    <script type="importmap">
      {
          "imports": {
              "three": "../assets/js/three/three.webgpu.js",
              "three/addons/": "../assets/js/three/jsm/",
              "three/webgpu": "../assets/js/three/three.webgpu.js",
              "three/tsl": "../assets/js/three/three.tsl.js"
          }
      }
  </script>
    <link rel="stylesheet" href="../assets/css/main.css" />
    <link rel="stylesheet" href="../assets/css/earth.css" />
    <style>
        /* Existing Body Styles */
        body {
            margin: 0;
            padding: 0;
            overflow-x: hidden;
            overflow-y: hidden;
            -webkit-user-select: none;
            /* Safari */
            -ms-user-select: none;
            /* IE 10+ and Edge */
            user-select: none;
            /* 标准语法 */
        }
    </style>
</head>

<body id="gallery_container">
    <!-- 改进的旋转地球进度条 -->
    <div id="earth-progress">
        <!-- 背景星星 -->
        <div class="stars" id="stars"></div>

        <!-- 地球容器 -->
        <div class="earth-container">
            <div class="earth-orbit"></div>
            <div class="earth-atmosphere"></div>
            <div class="earth-base"></div>
            <div class="earth-landmask"></div>
            <div class="earth-clouds"></div>
            <div class="earth-highlight"></div>
        </div>

        <!-- 进度信息 -->
        <div class="progress-info">
            <div class="progress-text" id="progress-text">
                初始化中
                <span class="loading-dots">
                    <span>.</span>
                    <span>.</span>
                    <span>.</span>
                </span>
            </div>
            <div class="progress-percentage" id="progress-percentage">0%</div>
        </div>

        <!-- 进度条 -->
        <div class="progress-bar-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </div>

    <!-- 主体内容 -->
    <a href="../index.html">
        <div class="gallery_icon" style="background-image: url('../images/close-w.png');"></div>
    </a>

    <div id="mapMarkerButton" class="gallery_icon"
        style="right: 3rem; background-image: url('../images/map-marker-w.png');"></div>

    <div id="photo-list">
        <div class="photo-list-title">
            <h1>Gallery</h1>
            <div href="#" class="icon solid fa-circle-xmark" onclick="resetCurrentSelectedLandmark()"></div>
        </div>
        <div class="indicator-bar">
            <h3 id="landmarkName"></h3>
            <div id="state-indicator"></div>
        </div>

        <div id="waterfall-grid" class="waterfall-grid-container">
            <!-- Image cards will be dynamically injected here by JavaScript -->
        </div>

        <div id="image-modal" class="image-modal-lightbox" onclick="hideModal(event)">
            <div class="modal-content-wrapper" onclick="event.stopPropagation()">
                <div class="gallery_icon"
                    style="background-image: url('../images/close-w.png'); margin-top: 0.5rem; margin-right: 0.5rem;"
                    onclick="hideModal()"></div>
                <img id="modal-image" src="" alt="Enlarged Image" class="modal-image-display" onclick="hideModal()">
            </div>
        </div>
    </div>

    <script type="module" rel="preload" src="../assets/js/earth/earth_progress_bar.js"></script>
    <script type="module" rel="preload" src="../assets/js/earth/earth.js"></script>
    <script type="module" rel="preload" src="../assets/js/earth/earth_ui.js"></script>
    <script type="module" rel="preload" src="../assets/js/earth/landmark.js"></script>
</body>

</html>